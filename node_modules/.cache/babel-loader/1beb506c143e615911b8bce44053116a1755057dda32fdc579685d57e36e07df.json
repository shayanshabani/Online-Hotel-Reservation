{"ast":null,"code":"var _jsxFileName = \"/home/shayan/web/project/web_project/src/context/context.js\";\nimport React, { Component } from \"react\";\nimport items from \"../data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoomContext = /*#__PURE__*/React.createContext();\nclass RoomProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rooms: [],\n      sortedRooms: [],\n      featuredRooms: [],\n      loading: true,\n      type: \"all\",\n      capacity: 1,\n      price: 0,\n      minPrice: 0,\n      maxPrice: 0,\n      minSize: 0,\n      maxSized: 0,\n      breakfast: false,\n      pets: false\n    };\n    this.fromatData = items => {\n      let tempItems = items.map(item => {\n        let id = item.sys.id;\n        let images = item.fields.images.map(image => image.fields.file.url);\n        let room = {\n          ...item.fields,\n          images,\n          id\n        };\n        return room;\n      });\n      return tempItems;\n    };\n    this.getRoom = slug => {\n      return this.state.rooms.find(item => item.slug === slug);\n    };\n    this.handleChange = event => {\n      const target = event.target;\n      const {\n        name\n      } = target;\n      const value = target.type === \"checkbox\" ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      }, this.filterRooms);\n    };\n    this.filterRooms = () => {\n      let {\n        rooms,\n        handleChange,\n        type,\n        capacity,\n        price,\n        maxPrice,\n        minPrice,\n        minSize,\n        maxSize,\n        pets,\n        breakfast\n      } = this.state;\n      let tempItems = [...rooms];\n      capacity = parseInt(capacity);\n      // filter type\n      if (type !== \"all\") {\n        tempItems = tempItems.filter(item => item.type === type);\n      }\n      // filter capacity\n      if (capacity !== 1) {\n        tempItems = tempItems.filter(item => item.capacity > capacity);\n      }\n      // filter price\n      tempItems = tempItems.filter(item => item.price < price);\n      // size\n      tempItems = tempItems.filter(item => item.size >= minSize && item.size <= maxSize);\n      // breackfast\n      if (breakfast) tempItems = tempItems.filter(item => item.breakfast === true);\n      // pets\n      if (pets) tempItems = tempItems.filter(item => item.pets === true);\n      this.setState({\n        sortedRooms: tempItems\n      });\n    };\n  }\n  // Get data\n  componentDidMount() {\n    let rooms = this.fromatData(items);\n    const featuredRooms = rooms.filter(item => item.featured === true);\n    let maxPrice = Math.max(...rooms.map(item => item.price));\n    let maxSize = Math.max(...rooms.map(item => item.size));\n    this.setState({\n      rooms: rooms,\n      featuredRooms: featuredRooms,\n      sortedRooms: rooms,\n      loading: false,\n      price: maxPrice,\n      maxPrice,\n      maxSize: maxSize\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(RoomContext.Provider, {\n      value: {\n        ...this.state,\n        getRoom: this.getRoom,\n        handleChange: this.handleChange\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst RoomConsumer = RoomContext.Consumer;\n\n// export function withRoomConsumer(Component) {\n//   return (props) => {\n//     return (\n//       <RoomConsumer>\n//         {(value) => <Component {...props} context={value}></Component>}\n//       </RoomConsumer>\n//     );\n//   };\n// }\nexport { RoomProvider, RoomConsumer, RoomContext };","map":{"version":3,"names":["React","Component","items","jsxDEV","_jsxDEV","RoomContext","createContext","RoomProvider","constructor","args","state","rooms","sortedRooms","featuredRooms","loading","type","capacity","price","minPrice","maxPrice","minSize","maxSized","breakfast","pets","fromatData","tempItems","map","item","id","sys","images","fields","image","file","url","room","getRoom","slug","find","handleChange","event","target","name","value","checked","setState","filterRooms","maxSize","parseInt","filter","size","componentDidMount","featured","Math","max","render","Provider","children","props","fileName","_jsxFileName","lineNumber","columnNumber","RoomConsumer","Consumer"],"sources":["/home/shayan/web/project/web_project/src/context/context.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport items from \"../data\";\nconst RoomContext = React.createContext();\n\nclass RoomProvider extends Component {\n  state = {\n    rooms: [],\n    sortedRooms: [],\n    featuredRooms: [],\n    loading: true,\n    type: \"all\",\n    capacity: 1,\n    price: 0,\n    minPrice: 0,\n    maxPrice: 0,\n    minSize: 0,\n    maxSized: 0,\n    breakfast: false,\n    pets: false,\n  };\n  // Get data\n  componentDidMount() {\n    let rooms = this.fromatData(items);\n    const featuredRooms = rooms.filter((item) => item.featured === true);\n    let maxPrice = Math.max(...rooms.map((item) => item.price));\n    let maxSize = Math.max(...rooms.map((item) => item.size));\n\n    this.setState({\n      rooms: rooms,\n      featuredRooms: featuredRooms,\n      sortedRooms: rooms,\n      loading: false,\n      price: maxPrice,\n      maxPrice,\n      maxSize: maxSize,\n    });\n  }\n  fromatData = (items) => {\n    let tempItems = items.map((item) => {\n      let id = item.sys.id;\n      let images = item.fields.images.map((image) => image.fields.file.url);\n      let room = { ...item.fields, images, id };\n      return room;\n    });\n    return tempItems;\n  };\n  getRoom = (slug) => {\n    return this.state.rooms.find((item) => item.slug === slug);\n  };\n  handleChange = (event) => {\n    const target = event.target;\n    const { name } = target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    this.setState(\n      {\n        [name]: value,\n      },\n      this.filterRooms\n    );\n  };\n  filterRooms = () => {\n    let {\n      rooms,\n      handleChange,\n      type,\n      capacity,\n      price,\n      maxPrice,\n      minPrice,\n      minSize,\n      maxSize,\n      pets,\n      breakfast,\n    } = this.state;\n    let tempItems = [...rooms];\n    capacity = parseInt(capacity);\n    // filter type\n    if (type !== \"all\") {\n      tempItems = tempItems.filter((item) => item.type === type);\n    }\n    // filter capacity\n    if (capacity !== 1) {\n      tempItems = tempItems.filter((item) => item.capacity > capacity);\n    }\n    // filter price\n    tempItems = tempItems.filter((item) => item.price < price);\n    // size\n    tempItems = tempItems.filter(\n      (item) => item.size >= minSize && item.size <= maxSize\n    );\n    // breackfast\n    if (breakfast)\n      tempItems = tempItems.filter((item) => item.breakfast === true);\n    // pets\n    if (pets) tempItems = tempItems.filter((item) => item.pets === true);\n\n    this.setState({\n      sortedRooms: tempItems,\n    });\n  };\n  render() {\n    return (\n      <RoomContext.Provider\n        value={{\n          ...this.state,\n          getRoom: this.getRoom,\n          handleChange: this.handleChange,\n        }}\n      >\n        {this.props.children}\n      </RoomContext.Provider>\n    );\n  }\n}\n\nconst RoomConsumer = RoomContext.Consumer;\n\n// export function withRoomConsumer(Component) {\n//   return (props) => {\n//     return (\n//       <RoomConsumer>\n//         {(value) => <Component {...props} context={value}></Component>}\n//       </RoomConsumer>\n//     );\n//   };\n// }\nexport { RoomProvider, RoomConsumer, RoomContext };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}